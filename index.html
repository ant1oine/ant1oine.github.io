<!DOCTYPE html>
<html>
<head>
    <title>Lead Distribution Graph</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .bar-container {
            width: 500px;
            height: 300px;
            margin: 20px auto;
            position: relative;
            background-color: #f1f1f1;
        }
        .bar {
            width: 40px;
            position: absolute;
            bottom: 20px; /* Space for x-axis */
            background-color: #4CAF50;
            text-align: center;
            color: black;
            font-size: 14px;
        }
        #hot { background-color: #ff3333; left: 90px; }
        #warm { background-color: #ffcc00; left: 230px; }
        #cold { background-color: #3399ff; left: 370px; }
        #x-axis {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20px;
            text-align: center;
        }
        #x-axis div {
            width: 40px;
            position: absolute;
            bottom: 0;
            font-size: 14px;
        }
        #x-axis #label-hot { left: 90px; }
        #x-axis #label-warm { left: 230px; }
        #x-axis #label-cold { left: 370px; }
        button {
            margin-top: 20px; /* Space below the graph */
        }
    </style>
</head>
<body>
    <h2>Lead Distribution</h2>
    <input type="number" id="leadInput" placeholder="Enter Number of Leads" oninput="updateGraph()">
    <div id="graph" class="bar-container">
        <div id="hot" class="bar"></div>
        <div id="warm" class="bar"></div>
        <div id="cold" class="bar"></div>
        <div id="x-axis">
            <div id="label-hot">Hot</div>
            <div id="label-warm">Warm</div>
            <div id="label-cold">Cold</div>
        </div>
    </div>
    <button id="downloadButton">Download Hot Leads</button>

    <script>
        function updateGraph() {
            var totalLeads = document.getElementById('leadInput').value;
            var percentages = calculatePercentages();
            var hotLeads = Math.round(totalLeads * percentages.hot);
            var warmLeads = Math.round(totalLeads * percentages.warm);
            var coldLeads = Math.round(totalLeads * percentages.cold);

            updateBar('hot', hotLeads);
            updateBar('warm', warmLeads);
            updateBar('cold', coldLeads);
        }

        function calculatePercentages() {
            var hotPercent = Math.random() * (0.10 - 0.01) + 0.01;
            var warmPercent = Math.random() * (0.20 - 0.10) + 0.10;
            var coldPercent = 1 - hotPercent - warmPercent;
            return { hot: hotPercent, warm: warmPercent, cold: coldPercent };
        }

        function updateBar(id, value) {
            var bar = document.getElementById(id);
            bar.style.height = (value * 280 / document.getElementById('leadInput').value) + 'px'; // Adjusted for bottom margin
            bar.innerText = value;
        }
    </script>
</body>
</html>
